#!/bin/bash

if [[ "$1" && "$2" ]]
then
    mkdir certs
    cd certs
    openssl genrsa -out $1.key 1024 2>/dev/null
    openssl req -new -key $1.key -out $1.csr -subj "/CN=$2/O=Borhane/C=UK" 2>/dev/null
    openssl x509 -req -days 365 -in $1.csr -signkey $1.key -out $1.crt 2>/dev/null
else
    echo "Error: missing required parameters."
    echo "Usage: "
    echo "  gen_certs name domain"
fi
